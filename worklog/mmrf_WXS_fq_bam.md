Example of how to run trimGalore:
```
bash /storage1/fs1/dinglab/Active/Projects/austins2/tools/BWA-alignment/trimGalore_then_BWA.compute1.36L.sh 
-c /code/config/config.human.compute1.ini \
-t /storage1/fs1/dinglab/Active/Projects/MMRF_primary_bulk/WXS/BAM/MMRF_WXS_fastq_to_bam_runlist.txt \
-o /storage1/fs1/dinglab/Active/Projects/MMRF_primary_bulk/WXS/trimmed_fq \
-p trimGalore
```
Example of how I align with BWA. The input table is generated by the bash script that is used to run trimGalore.
```
bash /storage1/fs1/dinglab/Active/Projects/austins2/tools/BWA-alignment/trimGalore_then_BWA.compute1.36L.sh 
-c /code/config/config.human.compute1.ini \
-t /storage1/fs1/dinglab/Active/Projects/austins2/pancan-ATAC/bulk-WXS/v6/fastq/trimmed_fq/map.20221220.tsv \
-o /storage1/fs1/dinglab/Active/Projects/austins2/pancan-ATAC/bulk-WXS/v6/BAM\
-p BWA 
```
This is what I run when I do WES stuff. It should also work for WGS.


## PECGS pipeline

```
/storage1/fs1/dinglab/Active/Projects/ysong/Projects/pecgs-cwl/pecgs_dna_align_v2023_03/src/compute1/generate_run_commands.py

```

# step1 
```
export LSF_DOCKER_VOLUMES="/storage1/fs1/dinglab/Active:/storage1/fs1/dinglab/Active /scratch1/fs1/dinglab:/scratch1/fs1/dinglab"
export PATH="/miniconda/envs/pecgs/bin:$PATH"
bsub -q dinglab-interactive -G compute-dinglab -Is -a 'docker(estorrs/pecgs-pipeline:0.0.1)' '/bin/bash'
```

# step2

```
rm -r /scratch1/fs1/dinglab/Active/Projects/ysong/mmrf/mmrf_wxs_fq_bam/*
mkdir -p /scratch1/fs1/dinglab/Active/Projects/ysong/mmrf/mmrf_wxs_fq_bam/

python /storage1/fs1/dinglab/Active/Projects/ysong/Projects/pecgs-cwl/pecgs_dna_align_v2023_03/src/compute1/generate_run_commands.py make-run --sequencing-info /storage1/fs1/dinglab/Active/Projects/andretargino/Draft/sequencing_info.txt --queue general pecgs_TN_wxs_fq /storage1/fs1/dinglab/Active/Projects/MMRF_primary_bulk/WXS/BAM/MMRF_WXS_fastq_pecgs_runlist.txt /scratch1/fs1/dinglab/Active/Projects/ysong/mmrf/mmrf_wxs_fq_bam/
```


# step3 (NEW Terminal)

```
cd /scratch1/fs1/dinglab/Active/Projects/ysong/mmrf/mmrf_wxs_fq_bam/
bash 1.run_jobs.sh
```

```
#!/bin/bash
python /storage1/fs1/dinglab/Active/Projects/estorrs/pecgs-pipeline/src/compute1/generate_run_commands.py tidy-run pecgs_TN_wxs_fq /storage1/fs1/dinglab/Active/Projects/andretargino/Draft/run_list-1.txt /scratch1/fs1/dinglab/Active/Projects/ysong/Wagma/pecgs_wxs_fq_2023_04/
```

3.summarize_run.sh
```
#!/bin/bash
python /storage1/fs1/dinglab/Active/Projects/estorrs/pecgs-pipeline/src/compute1/generate_run_commands.py summarize-run pecgs_TN_wxs_fq /storage1/fs1/dinglab/Active/Projects/andretargino/Draft/run_list-1.txt /scratch1/fs1/dinglab/Active/Projects/ysong/Wagma/pecgs_wxs_fq_2023_04/
```
4.move_run.sh
```
#!/bin/bash
python /storage1/fs1/dinglab/Active/Projects/estorrs/pecgs-pipeline/src/compute1/generate_run_commands.py move-run pecgs_TN_wxs_fq /storage1/fs1/dinglab/Active/Projects/andretargino/Draft/run_list-1.txt /scratch1/fs1/dinglab/Active/Projects/ysong/Wagma/pecgs_wxs_fq_2023_04/ --target-dir /storage1/fs1/dinglab/Active/Projects/ysong/Projects/Team_Members/Wagma/
```


```
mkdir -p /scratch1/fs1/dinglab/Active/Projects/ysong/atac_wxs_bam/
python /storage1/fs1/dinglab/Active/Projects/ysong/Projects/pecgs-cwl/pecgs_wxs_bam_Tindaisy_v2023_03/src/compute1/generate_run_commands.py make-run  --queue general pecgs_TN_wxs_bam /storage1/fs1/dinglab/Active/Projects/ysong/Projects/PECGS/Analysis/ATAC_Tindaisy_Somaticwrapper_comparision/ATAC_WXS_bam_run_list.txt /scratch1/fs1/dinglab/Active/Projects/ysong/atac_wxs_bam/
```

```
bash /scratch1/fs1/dinglab/Active/Projects/ysong/atac_wxs_bam/1.run_jobs.sh
```
